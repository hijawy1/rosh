var CommonGraphOptions={abemScoresOverTimeOptions:function(e,t,i){return{title:{text:"",x:-20},chart:{backgroundColor:"rgba(255, 255, 255, 0.1)",width:i},credits:{enabled:!1},xAxis:{type:"datetime",labels:{text:null,format:"{value:%m/%d/%y}"},title:{text:""},minPadding:.1},yAxis:{title:{text:""},plotLines:[{value:0,width:1,color:"#808080"}]},tooltip:{formatter:t},legend:{layout:"vertical",align:"right",verticalAlign:"middle",borderWidth:0},series:e}},abemScoresHistogramGraphOptions:function(e,t,i,o){return{legend:{enabled:!1},credits:{enabled:!1},chart:{renderTo:i,events:{},backgroundColor:"rgba(255, 255, 255, 0.1)",width:o},title:{text:""},credits:{enabled:!1},xAxis:{categories:e,labels:{rotation:-45,align:"right",style:{fontSize:"10px",fontFamily:"Verdana, sans-serif"}}},yAxis:[{title:{text:""},allowDecimals:!1,labels:{overflow:"justify"}}],plotOptions:{column:{minPointLength:3,pointWidth:25},columnrange:{shadow:!1,borderwidth:0,colorbypoint:!0,pointWidth:25,zIndex:100,dataLabels:{enabled:!1,verticalalign:"bottom",align:"right",padding:4},tooltip:{pointFormat:'<span style="color:{series.color}">{series.name}</span>: <b>{point.y}</b><br/>'}}},series:[{name:"Learners",data:t,type:"column"}]}},daily_performance_graph_options:function(){return{legend:{enabled:!1},credits:{enabled:!1},rangeSelector:{enabled:!1},scrollbar:{enabled:!1},title:{text:"Daily Performance"},xAxis:{type:"datetime",labels:{enabled:!0},dateTimeLabelFormats:{day:"%e %b '%y",week:"%e %b '%y",month:"%b '%y"},maxZoom:12096e5},yAxis:{title:{text:"Percent Correct"},min:0,max:100},chart:{zoomType:"x",spacingRight:20,height:250,renderTo:"daily_performance_graph",events:{},backgroundColor:"rgba(255, 255, 255, 0.1)"},series:[{name:"Daily Performance",type:"area",threshold:null,tooltip:{valueDecimals:0},marker:{enabled:!1},fillColor:{linearGradient:{x1:0,y1:0,x2:0,y2:1},stops:[[0,Highcharts.getOptions().colors[0]],[1,Highcharts.Color(Highcharts.getOptions().colors[0]).setOpacity(0).get("rgba")]]},data:[],lineWidth:1,shadow:!1,states:{hover:{lineWidth:1}}}]}},cumulative_performances_graph_options:function(){return{legend:{enabled:!1},credits:{enabled:!1},rangeSelector:{enabled:!1},scrollbar:{enabled:!1},title:{text:"Cumulative Performance"},xAxis:{type:"datetime",dateTimeLabelFormats:{day:"%e %b '%y",week:"%e %b '%y",month:"%b '%y"},labels:{text:null},maxZoom:12096e5},yAxis:{title:{text:"Percent Correct"},min:0,max:100},chart:{zoomType:"x",spacingRight:20,height:159,renderTo:"cumulative_performances_graph",events:{},backgroundColor:"rgba(255, 255, 255, 0.1)"},series:[{name:"Cumulative Performance",type:"area",threshold:null,tooltip:{valueDecimals:0},marker:{enabled:!1},fillColor:{linearGradient:{x1:0,y1:0,x2:0,y2:1},stops:[[0,Highcharts.getOptions().colors[0]],[1,Highcharts.Color(Highcharts.getOptions().colors[0]).setOpacity(0).get("rgba")]]},lineWidth:1,shadow:!1,states:{hover:{lineWidth:1}}}]}},total_questions_answered_graph_options:function(){return{legend:{enabled:!1},credits:{enabled:!1},chart:{renderTo:"total_questions_answered_graph",height:159,events:{},backgroundColor:"rgba(255, 255, 255, 0.1)"},title:{text:"Total Questions Answered"},xAxis:{categories:[],labels:{rotation:-45,align:"right",style:{fontSize:"10px",fontFamily:"Verdana, sans-serif"}}},yAxis:[{allowDecimals:!1,title:{text:"Learners"},labels:{overflow:"justify"}}],plotOptions:{column:{minPointLength:3,pointWidth:25},columnrange:{shadow:!1,borderwidth:0,colorbypoint:!0,pointWidth:25,zIndex:100,dataLabels:{enabled:!1,verticalalign:"bottom",align:"right",padding:4},tooltip:{pointFormat:'<spanstyle="color:{series.color}">{series.name}</span>: <b>{point.y}</b><br/>'}}},series:[{name:"Learners",data:[],type:"column"}]}},categorywise_performance_graph_options:function(){return{chart:{events:{},renderTo:"categorywise_performance_graph",inverted:!0,backgroundColor:"rgba(255, 255, 255, 0)",marginLeft:210},title:{text:null},credits:{enabled:!1},tooltip:{useHTML:!0,formatter:function(){return'<span style="color:{series.color}">'+this.key+"</span>: <b>"+this.y+"%</b><br/>"}},xAxis:{gridLineWidth:0,tickWidth:1,categories:[],labels:{overflow:"justify",style:{fontFamily:"'HelveticaNeueMedium', Helvetica",color:"#000",fontSize:"11px",textTransform:"uppercase",fontWeight:"bold"},formatter:function(){var e=this.value;return'<div class="" overflow:hidden" title="'+e+'">'+(e.length>25?e.substring(0,25)+"...":e)+"</div>"},useHTML:!0}},yAxis:[{gridLineWidth:1,gridLineColor:"#C0C0C0",tickWidth:1,lineWidth:0,min:0,max:100,title:{text:""},labels:{overflow:"justify"}}],plotOptions:{column:{minPointLength:3,pointWidth:10,borderWidth:0,point:{events:{}},dataLabels:{style:{fontFamily:"'HelveticaNeueMedium', Helvetica",fontWeight:"bold",textOutline:0},enabled:!0,padding:4,formatter:function(){return'<span style="color:'+this.point.color+'">'+this.y+"%</span>"}}},columnrange:{shadow:!1,borderWidth:.5,pointPadding:0,groupPadding:0,colorbypoint:!0,pointWidth:16,zIndex:100,dataLabels:{enabled:!1}},series:{series:{pointPadding:0,groupPadding:0}}},series:[{name:"Categories(%)",type:"column",data:[],color:"#50B432"},{name:"National Average(%)",type:"columnrange",color:"#606060",data:[]}]}},categorwise_performance_graph_for_admin_exam_options:function(e,t,i,o){return{credits:{enabled:!1},chart:{renderTo:"categorywise_performance_graph",inverted:!0,type:"column",backgroundColor:"rgba(255, 255, 255, 0)",height:82+25*t.length,marginLeft:210},title:{text:""},xAxis:{gridLineWidth:1,gridLineColor:"#C0C0C0",categories:t,labels:{style:{fontFamily:'"HelveticaNeueMedium", Helvetica',fontWeight:"bold"}}},yAxis:{min:0,max:100,title:{text:""}},legend:{itemHoverStyle:{color:"#000",cursor:"normal"}},plotOptions:{column:{cursor:"pointer",pointWidth:10,pointPadding:0,groupPadding:0,borderWidth:0,events:{legendItemClick:function(){return!1}},point:{events:{click:function(){var r=this.drilldown;r?Program.AdminExamDetail.setChart(r.name,r.categories,r.data,r.color):Program.AdminExamDetail.setChart(e,t,i,o)}}},dataLabels:{enabled:!0,color:o,style:{fontFamily:'"HelveticaNeueMedium", Helvetica',fontWeight:"bold",textOutline:"none"},formatter:function(){return this.y+"%"}}}},tooltip:{formatter:function(){var e=this.point,t=this.x+": <b>"+this.y+"%</b><br/>";return e.drilldown?t+="Click to view subcategories":t+="Click to return",t}},series:[{name:e,data:i,color:o}],exporting:{enabled:!1}}},progress_graph_options:function(){return{credits:{enabled:!1},chart:{defaultSeriesType:"pie",renderTo:"questions_progress_graph",height:250,backgroundColor:"rgba(255, 255, 255, 0)"},title:{text:null},legend:{layout:"vertical",style:{}},tooltip:{formatter:function(){return this.point.name+" questions: "+Math.round(100*this.percentage)/100+"%"}},plotOptions:{pie:{allowPointSelect:!0,dataLabels:{distance:15}},series:{point:{events:{click:function(){}}}}},lang:{drillUpText:null},series:[{type:"pie",name:null,data:[]}]}},GaugeGraphVariantOptions:function(e,t){return"100"==e?{yAxisPlotBands:[{from:0,to:this.max100YAxisPlotBandTransitionValue(t),color:"#c12624",innerRadius:"100%",outerRadius:"120%"},{from:this.max100YAxisPlotBandTransitionValue(t),to:100,color:"#50B432",innerRadius:"100%",outerRadius:"120%"}],minorTickInterval:10,tickInterval:50}:"800"==e?{yAxisPlotBands:[{from:200,to:392,color:"#c12624",innerRadius:"100%",outerRadius:"120%"},{from:393,to:505,color:"#dddf00",innerRadius:"100%",outerRadius:"120%"},{from:506,to:800,color:"#50B432",innerRadius:"100%",outerRadius:"120%"}],minorTickInterval:100,tickInterval:200}:void 0},max100YAxisPlotBandTransitionValue:function(e){return"1"==e?77:75},gauge_graph_options:function(e,t,i,o,r,a){return r=null==r?100:r,{credits:{enabled:!1},chart:{renderTo:"gauge_graph",type:"gauge",plotBackgroundImage:null,height:200,backgroundColor:"rgba(255, 255, 255, 0.1)"},title:{text:null},pane:[{startAngle:-90,endAngle:90,background:null,center:["24%","60%"],size:145},{startAngle:-90,endAngle:90,background:null,center:["76%","60%"],size:145}],yAxis:[{minorTickInterval:this.GaugeGraphVariantOptions(r,a).minorTickInterval,min:null==o?0:o,max:r,minorTickPosition:"outside",minorTickInterval:this.GaugeGraphVariantOptions(r,a).tickInterval,tickPosition:"outside",labels:{step:1,rotation:"auto",distance:20},plotBands:this.GaugeGraphVariantOptions(r,a).yAxisPlotBands,pane:0,title:{style:{color:"rgb(77, 117, 158)",fontWeight:"bold"},text:'<span style="font-size:20px;line-height:48px;font-weight:bold;">'+e+"</span><br/><span>"+i.truncate(35)+'</span><a class="questionmark-icon" href="javascript:void(0);" title="This is your predicted score for the study objective you specified in your Subscriptions & Settings page. It is highly sensitive to the number of questions you have completed, so as you finish more of the question bank, the confidence interval will narrow (We dont\'t display the CI, but it depends on the &quot;sample size&quot; of number of questions answered)."></a>',y:80,useHTML:!0}},{minorTickInterval:10,min:0,max:100,minorTickPosition:"outside",tickPosition:"outside",labels:{step:1,rotation:"auto",distance:20},plotBands:[{from:0,to:75,color:"#c12624",innerRadius:"100%",outerRadius:"120%"},{from:75,to:90,color:"#DDDF00",innerRadius:"100%",outerRadius:"120%"},{from:90,to:100,color:"#50B432",innerRadius:"100%",outerRadius:"120%"}],pane:1,title:{style:{color:"rgb(77, 117, 158)",fontWeight:"bold"},text:'<span style="font-size:20px;line-height:48px;font-weight:bold;">'+this.OptionsFormatter.percentage_formatter(t,"string")+'</span><br/><span>Probability of Passing</span><a class="questionmark-icon" href="javascript:void(0);" title="This is your probability of passing the study objective you specified in your Subscriptions & Settings page. It is highly sensitive to the number of questions you have completed and also takes into account your level of postgraduate training. As you finish more of the question bank, the confidence interval will narrow (We dont\'t display the CI, but it depends on the &quot;sample size&quot; of number of questions answered)."></a>',y:80,useHTML:!0}}],plotOptions:{gauge:{dataLabels:{enabled:!1},dial:{radius:"100%"}}},series:[{data:[this.OptionsFormatter.percentage_formatter(e)],yAxis:0,name:i.replace("Projected ","")},{data:[this.OptionsFormatter.percentage_formatter(t)],yAxis:1,name:"Probability Of Passing"}]}},area_graph_option:function(){return{legend:{enabled:!1},tooltip:{formatter:function(){return"Exam#"+this.x+" - "+this.y+"%"}},credits:{enabled:!1},plotOptions:{area:{fillColor:{linearGradient:{x1:0,y1:0,x2:0,y2:1},stops:[[0,Highcharts.getOptions().colors[0]],[1,"rgba(2,0,0,0)"]]},lineWidth:1,marker:{enabled:!1,states:{hover:{enabled:!0,radius:5}}},shadow:!1,states:{hover:{lineWidth:1}}}},title:{text:null},chart:{defaultSeriesType:"area",height:250,events:{load:function(){$(".userHomePage .rightContent").height($(".userHomePage .leftContent").height()-20)}},renderTo:"area_graph"},xAxis:{min:0,title:{text:"Exam number"},formatter:function(){return this.value},allowDecimals:!1},yAxis:{min:0,max:100,title:{text:"Percentage (%)"},labels:{overflow:"justify"}},series:[{type:"area",name:"Score",data:[]}]}},OptionsFormatter:{category_wise_options_formatter:function(e,t,i){var o,r,a,n=CommonGraphOptions.categorywise_performance_graph_options();if(t.length)for(var s=0;s<e.length;s++)n.xAxis.categories.push(e[s].name),a=(o=e[s].percentage)>=(r=t[s].percentage)?"#50B432":"#B82B24",n.series[0].data.push({y:o,color:a,category_id:e[s].category_id,is_subcategory:e[s].is_subcategory}),n.series[1].data.push([r,r+.5]);else for(s=0;s<e.length;s++)n.xAxis.categories.push(e[s].name),n.series[0].data.push({y:e[s].percentage,color:"#50B432",category_id:e[s].category_id,is_subcategory:e[s].is_subcategory});if(i){n.tooltip.formatter=function(){var e=this.point,t=e.is_subcategory,i='<table><tr><td><span style="color:{series.color}"><b>'+this.x+"</b></span>: <b>"+this.y+'%</b></td></tr><tr style="text-align:center;color:grey;"><td>';return t?i+="(Click to go back)":e.color?i+="(Click for details)":i+=$("#categorywise_performance_filter option:selected").text(),i+="</td></tr></table>"};var l=$("#back-button"),c=$("#category-info"),d=$("#category-title"),u=function(){c.toggle(),l.toggle()},p=i.filter_options,g=i.toggles,h=i.graph_data[p[g[0]]][p[g[1]]].categorywise_performance.data,m=function(){d.html("Blueprint"),i.categorywise_performance_chart(h)};l.find("a").off("click").on("click",function(e){e.preventDefault(),u(),m()}),n.plotOptions.column.point.events.click=function(){u(),this.is_subcategory?m():(d.html("Blueprint / "+this.category.toLowerCase()),CommonGraphOptions.OptionsFormatter.prepare_subcategory_stats(this.category_id,i,p,h))},n.xAxis.gridLineWidth=1,n.yAxis[0].lineWidth=1,n.yAxis[0].minorTickLength=0,n.yAxis[0].tickColor="#000000"}return n},prepare_subcategory_stats:function(e,t,i,o){var r=o[e].subcategories;if($.isEmptyObject(r))t.collect_data_for_graph("categorywise_performance",!0,e);else{var a,n,s,l,c=t.graph_data.categorywise_performance[i.categorywise_performance];a=c[e]?c[e].subcategories:{},n=this.filter_stats(r,a),s=t.series_preparation(r,!0),l=t.series_preparation(n,!0),t.drawChart(s,l)}},percentage_formatter:function(e,t){return"string"==t?e:(percentage=parseInt(e),isNaN(percentage)?0:percentage)},filter_stats:function(e,t){var i=!1;for(var o in t)e[o]==undefined&&delete t[o];for(var o in e)t[o]==undefined&&(t[o]={name:e.name,total_correct:0,total_count:0,subcategories:{}},i=!0);return i&&$("#comparison-data-unavailable").show(),t}}};